<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue seminar 3</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="counter.js"></script>
    <script src="listwork.js"></script>
    <script src="productCard.js"></script>
    <script src="icon.js"></script>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <div id="app">
        <counter></counter>
        <listwork :tasks="tasks" @add-item="addItem" @remove-item="removeItem"></listwork>
        <section class="featured center">
            <button @click="sortProducts">Сортировка {{ sortAscending ? 'по возрастанию' : 'по убыванию' }}</button>
            <div class="featured__items">
                <productcard :product="item" v-for="item in products" :key="item.id">
                    <icon></icon>
                </productcard>
            </div>
        </section>
    </div>

    <script>
        const app = {
            data() {
                return {
                    tasks: [],
                    products: [
                        {
                            id: 1,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product1.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "52.00",
                        },
                        {
                            id: 2,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product2.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "62.00",
                        },
                        {
                            id: 3,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product3.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "72.00",
                        },
                        {
                            id: 4,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product4.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "42.00",
                        },
                        {
                            id: 5,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product5.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "32.00",
                        },
                        {
                            id: 6,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product6.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "92.00",
                        },
                        {
                            id: 7,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product7.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "57.00",
                        },
                        {
                            id: 8,
                            linkBuy: '#',
                            linkCard: '#',
                            image: 'img/product8.jpg',
                            title: "MANGO PEOPLE T-SHIRT",
                            price: "46.00",
                        },
                    ],
                    sortAscending: true,
                }
            },
            components: {
                counter,
                listwork,
                productcard,
                icon,
            },
            methods: {
                addItem(newItem) {
                    this.tasks.push(newItem)
                },
                removeItem(itemId) {
                    this.tasks = this.tasks.filter(item => item.id !== itemId)
                },
                sortProducts() {
                    this.products.sort((a, b) => {
                        if (this.sortAscending) {
                            return a.price - b.price
                        } else {
                            return b.price - a.price
                        }
                    })
                    this.sortAscending = !this.sortAscending
                }
            }
        }
        Vue.createApp(app).mount('#app');
    </script>

</body>

</html>